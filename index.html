<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Telegram VLESS Hunter - Documentation</title>
<style>
  body {
    font-family: 'Tahoma', sans-serif;
    direction: rtl;
    background-color: #121212;
    color: #eee;
    margin: 0;
    padding: 20px;
  }
  h1 {
    color: #0f9d58;
    margin-bottom: 20px;
  }
  nav {
    margin-bottom: 20px;
  }
  nav a {
    color: #1e88e5;
    margin-left: 15px;
    text-decoration: none;
    font-weight: bold;
  }
  nav a:hover {
    text-decoration: underline;
  }
  section {
    margin-bottom: 30px;
  }
  pre {
    background: #222;
    padding: 15px;
    border-radius: 8px;
    overflow-x: auto;
    white-space: pre-wrap;
    word-break: break-word;
    position: relative;
  }
  button.copy-btn {
    position: absolute;
    top: 10px;
    left: 10px;
    background: #0f9d58;
    border: none;
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 12px;
  }
  button.copy-btn:hover {
    background: #0b7a3e;
  }
</style>
</head>
<body>

<h1>Telegram VLESS Hunter - مستندات</h1>

<nav>
  <a href="#mainpy">main.py</a>
  <a href="#configpy">config.py</a>
  <a href="#requirementstxt">requirements.txt</a>
  <a href="#readmemd">README.md</a>
</nav>

<section id="mainpy">
  <h2>main.py <button class="copy-btn" onclick="copyCode('code-main')">کپی</button></h2>
  <pre id="code-main">
from telethon import TelegramClient
import re
from config import api_id, api_hash, channels
import asyncio

vless_pattern = re.compile(r'vless://[^\s]+')

async def main():
    client = TelegramClient('session_session', api_id, api_hash)
    await client.start()
    print("🚀 Connected to Telegram!")

    for channel in channels:
        print(f"📡 Reading channel: {channel}")
        try:
            async for message in client.iter_messages(channel, limit=100):
                if message.message:
                    matches = vless_pattern.findall(message.message)
                    for match in matches:
                        print(f"🔹 Found vless config: {match}")
        except Exception as e:
            print(f"⚠️ Error reading channel {channel}: {e}")

    print("🏁 Task completed.")
    await client.disconnect()

if __name__ == '__main__':
    asyncio.run(main())
  </pre>
</section>

<section id="configpy">
  <h2>config.py <button class="copy-btn" onclick="copyCode('code-config')">کپی</button></h2>
  <pre id="code-config">
api_id = 24251
api_hash = '87489fc95cbd9c9881e7b164271daad0'

channels = [
    'v2raychannel',
    'v2rayconfigdaily',
    'freev2ray',
]
  </pre>
</section>

<section id="requirementstxt">
  <h2>requirements.txt <button class="copy-btn" onclick="copyCode('code-req')">کپی</button></h2>
  <pre id="code-req">
telethon
  </pre>
</section>

<section id="readmemd">
  <h2>README.md <button class="copy-btn" onclick="copyCode('code-readme')">کپی</button></h2>
  <pre id="code-readme">
# Telegram VLESS Hunter

این پروژه برای استخراج کانفیگ‌های VLESS از کانال‌های تلگرام نوشته شده است.
  </pre>
</section>

<script>
  function copyCode(id) {
    const code = document.getElementById(id);
    if (!code) return;
    const range = document.createRange();
    range.selectNodeContents(code);
    const selection = window.getSelection();
    selection.removeAllRanges();
    selection.addRange(range);
    try {
      document.execCommand('copy');
      alert('کد کپی شد!');
      selection.removeAllRanges();
    } catch (err) {
      alert('کپی انجام نشد، لطفا دستی کپی کنید.');
    }
  }
</script>

</body>
</html>
