<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <title>VLESS Hunter Viewer</title>
  <style>
    body {
      background-color: #121212;
      color: #eee;
      font-family: Tahoma, sans-serif;
      direction: rtl;
      padding: 30px;
    }
    h1 {
      color: #0f9d58;
    }
    .file-block {
      margin-bottom: 40px;
    }
    h2 {
      margin-bottom: 5px;
      color: #ffca28;
    }
    pre {
      background-color: #222;
      padding: 15px;
      border-radius: 8px;
      overflow-x: auto;
      white-space: pre-wrap;
      word-break: break-word;
      position: relative;
    }
    button {
      position: absolute;
      left: 10px;
      top: 10px;
      background-color: #0f9d58;
      color: white;
      border: none;
      padding: 5px 10px;
      font-size: 12px;
      border-radius: 5px;
      cursor: pointer;
    }
    nav {
      margin-bottom: 20px;
    }
    nav a {
      color: #1e88e5;
      margin-left: 15px;
      text-decoration: none;
      font-weight: bold;
    }
  </style>
</head>
<body>

<h1>📁 پروژه VLESS Hunter</h1>

<nav>
  <a href="#main">main.py</a>
  <a href="#config">config.py</a>
  <a href="#reqs">requirements.txt</a>
  <a href="#readme">README.md</a>
</nav>

<div class="file-block" id="main">
  <h2>main.py</h2>
  <pre id="main-content"><button onclick="copyText('main-content')">کپی</button>در حال بارگذاری...</pre>
</div>

<div class="file-block" id="config">
  <h2>config.py</h2>
  <pre id="config-content"><button onclick="copyText('config-content')">کپی</button>در حال بارگذاری...</pre>
</div>

<div class="file-block" id="reqs">
  <h2>requirements.txt</h2>
  <pre id="reqs-content"><button onclick="copyText('reqs-content')">کپی</button>در حال بارگذاری...</pre>
</div>

<div class="file-block" id="readme">
  <h2>README.md</h2>
  <pre id="readme-content"><button onclick="copyText('readme-content')">کپی</button>در حال بارگذاری...</pre>
</div>

<script>
  const files = {
    'main-content': 'main.py',
    'config-content': 'config.py',
    'reqs-content': 'requirements.txt',
    'readme-content': 'README.md'
  };

  const username = 'erfansh';
  const repo = 'telegram-vless-hunter';
  const branch = 'main';

  for (const [elementId, filename] of Object.entries(files)) {
    fetch(`https://raw.githubusercontent.com/${username}/${repo}/${branch}/${filename}`)
      .then(response => response.text())
      .then(data => {
        document.getElementById(elementId).innerText = data;
      })
      .catch(err => {
        document.getElementById(elementId).innerText = '⛔ خطا در بارگذاری فایل';
      });
  }

  function copyText(id) {
    const el = document.getElementById(id);
    const range = document.createRange();
    range.selectNodeContents(el);
    const sel = window.getSelection();
    sel.removeAllRanges();
    sel.addRange(range);
    try {
      document.execCommand('copy');
      alert('کد کپی شد!');
    } catch (err) {
      alert('کپی نشد.');
    }
    sel.removeAllRanges();
  }
</script>

</body>
</html>
